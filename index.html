<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>HeliosJS by entrendipity</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">HeliosJS</h1>
        <p class="header">in-memory graph database for modern browsers</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/entrendipity/helios.js/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/entrendipity/helios.js/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/entrendipity/helios.js">View On GitHub</a></li>
        </ul>

        <p class="header">Project maintained by <a class="header name" href="https://github.com/entrendipity">entrendipity</a></p>
      </header>
      <section>
        <h1>HeliosJS</h1>

        <p>HeliosJS is an in-memory graph database for modern browsers. It employs a non-blocking asynchronous architecture through the use of Promises and Web Workers, and therefore is only available in browsers that support Web Workers. This enables HeliosJS to download and process large data sets without blocking the UI.</p>
        <p>In order to traverse the graph, HeliosJS uses a <a href="http://gremlin.tinkerpop.com">Gremlin</a> inspired graph traversal language to query, analyze and manipulate the graph. Gremlin is an open source project maintained by <a href="http://tinkerpop.com">TinkerPop</a>. For more information on Gremlin, see the <a href="https://github.com/tinkerpop/gremlin/wiki">Gremlin wiki</a>.</p>

        <p>Please use the <a href="https://groups.google.com/forum/#!forum/heliosjs">HeliosJS mailing list</a> for all HeliosJS related questions. For TinkerPop related discussions, use the <a href="https://groups.google.com/forum/#!forum/gremlin-users">Gremlin-Users mailing list</a>.</p>
        <!-- <h2>Dependancies</h2>
        <p>HeliosJS depends on the following libraries.
        <ul>
          <li></li>
        </ul>
        </p> -->

        <h2>Getting Started</h2>
        <p>Copy the helios directory to your project's root directory. Then reference the helios.js file and it's dependancies from the script tags.</p>
        <pre><code>&lt;script src="./helios/lib/q.min.js"&gt;&lt;/script&gt;
&lt;script src="./helios/lib/uuid.js"&gt;&lt;/script&gt;
&lt;script src="./helios/lib/q-comm.js"&gt;&lt;/script&gt;
&lt;script src="./helios/helios.js"&gt;&lt;/script&gt;
</code></pre>

<p><em>N.B. Unless otherwise noted, all samples are derived from the TinkerPop &quot;toy&quot; graph. The hardcoded representation of the graph is diagrammed <a href="http://github.com/tinkerpop/blueprints/wiki/Property-Graph-Model">here</a>.</em>
</p>

<!-- <h2>Your First Query</h2> -->
<p>Now create a graph database.</p>
<pre><code>var graph = new Helios.GraphDatabase();</code></pre>
<hr>
<p><em>N.B. GraphDatabase also takes a parameter which specifies the location of heliosDB.js. This is the file that the web worker uses to create the Helios graph. The default location is './helios/lib/heliosDB.js'. However, if you need to move the file to a different location, you will need to pass the new location to GraphDatabase so Helios knows where to find the file. GraphDatabase takes an object with a property key of 'heliosDBPath'. For example:</em></p>
<pre>
  <code>var graph = new Helios.GraphDatabase({heliosDBPath:'./new/directory/location/heliosDB.js'});</code>
</pre>
<hr>

<p>Load some data. Then travese the graph.</p>
<pre><code>graph.loadGraphSON('./location/to/json/data.json')
  .then(function(g){
    g.V().out('knows').then(function(result){console.log(JSON.stringify(result))});
  }, function(err){
    console.error(err);
  });
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"}
,{"name":"josh","age":32,"_id":4,"_type":"vertex"}]</code></pre>

<p>Lets break this down. The first step creates a variable 'graph' that references the graph database.</p>
<p>The next step loads data into the database using the loadGraphSON function. This function accepts <a href="https://github.com/tinkerpop/blueprints/wiki/GraphSON-Reader-and-Writer-Library">GraphSON</a> "NORMAL" mode format. If this call is successful it returns a reference to the graph 'g'. All calls against the database will be made with this variable.</p>
<p>We then travese the graph. What the above query is doing is retrieving all 'out' going vertices that 'knows' a related vertex. Once the data is retrieved 'then' returns the result. The return value, in this instance, is an array of Vertex objects.</p>

<p>Function calls are able to be chained, because each call returns a Pipeline object, which is the object that pipes the data through each of the function calls. Once 'then' is called, the pipeline is closed and the result is emitted.</p>

<h2 id='convention'>Documentation Conventions</h2 id='format'>
        <h3>Function signatures</h3>
        <p>
          Function signatures are based on the <a href="http://www.typescriptlang.org/">TypeScript</a> notation. Which essentially is <em>(variable name:Type)</em>. However, there are some little differences. One of which is the elipsis notation. When you encounter something like (...id:number[]), this is saying that you can optionally pass in and array of ids of Type number OR a comma separated list of ids of Type number.
        </p>
        <p>Functions listed multiple times with different signatures signify that the function is overloaded.</p>
        <p>Data Type of 'Element' refers to either a Vertex or Edge object.</p>
        <p>
          Unless otherwise specified, all examples assume that the 'then' function is called with the output converted to JSON. For example:

        </p>
<pre><code>heliosjs&gt; g.v(4).then(function(result){console.log(JSON.stringify(result))});
<em>output:</em>
[{"name":"josh","age":32,"_id":4,"_type":"vertex"}]
</code></pre>
        <p>will be shown as:</p>
<pre><code>heliosjs&gt; g.v(4)
<em>output:</em>
[{"name":"josh","age":32,"_id":4,"_type":"vertex"}]
</code></pre>

        <h3>Closures</h3>
        <p>
          Gremlin comes in a number of different language variants. One of which is <a href="http://groovy.codehaus.org">Groovy</a>, which is what the Helios traversal language is based on. Groovy has a construct called <a href="http://groovy.codehaus.org/Closures">Closures</a> which are essentially anonymous functions and take the form of { [closureArguments->] statements }. In order to keep the traversal language as close to Gremlin as possible, Helios does it's best to mimic Closures. For simplicity, I refer to them as "closures" but they really aren't Closures.

        </p>
        <p>
          To use closures is quiet simple. All you need to remember are 2 things:
        </p>
        <ul>
          <li>'it' is a predefined variable that can be passed in (and almost always is) to a closure. It is a little like the 'this' variable in javascript. 'it' refers to the object that is being passed to it from in the previous step. The output of the closure will then be passed to the next step.</li>
          <li>closures are passed in as a string argument without the curly braces (javascript needs those)</li>
        </ul>
        <p>
          It'll become a little clearer once you take a look at a few examples below.
        </p>
<h2 id='transform'>Transform</h2 id='transform'>
<p>Transform steps take an object and emit a transformation of it.

</p>


        <h3 id='transform/transform'>transform(closure:string)</h3 id='transform/transform'>
<p>Transform emits the result of a closure.

</p>
<pre><code class="text">heliosjs&gt; g.E().where({'weight':{$gt:0.5}}).outV().property('age')
<em>output:</em>
[29,32]

heliosjs&gt; g.E().where({'weight':{$gt:0.5}}).outV().property('age').transform('it+2')
<em>output:</em>
[31,34]

heliosjs&gt; g.E().where({'weight':{$gt:0.5}}).outV().transform('[it._id, it.age]')
<em>output:</em>
[[1,29],[4,32]]

heliosjs&gt; g.E().where({'weight':{$gt:0.5}}).outV().transform('{id:it._id,age:it.age}')
<em>output:</em>
[{"id":1,"age":29},{"id":4,"age":32}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='transform/v'>V(...id:string[])</h3 id='transform/v'>
        <h3>V(...id:number[])</h3>
        <h3>V(...elements:Vertex[]) <em>=> object must have 'id' property.</em></h3>
        <h3>V(...comparator:{}[])</h3>
        <p>The vertex iterator for the graph.  Utilize this to iterate through all the vertices in the graph.  Use with care on large graphs unless used in combination with a indexed key.<br/>
          <mark>N.B. Uppercase V and lowercase V are inter-changeable. They take exactly the same parameters and have exactly the same output. i.e. V() == v()</mark>


</p>
        <pre><code class="text">heliosjs&gt; g.V()
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; g.V(1)
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.V("1")
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v(1,4)
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.V([1,4])
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.V({name:{$eq:'marko'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.V({name:{$eq:'marko'}},{name:{$eq:'josh'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.v([{name:{$eq:'marko'}},{name:{$eq:'josh'}}])
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.V({name:{$eq:'marko'}}).property('name')
<em>output:</em>
["marko"]

heliosjs&gt; g.V([{"name":"marko","_id":1},{"name":"josh","_id":4}])
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.V({"name":"marko","_id":1},{"name":"josh","_id":4})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#filter/where">where</a> to understand how to use the 'comparator'</li>
</ul><p><a href="#">top</a>

</p>
<hr>


        <h3 id='transform/e'>E(...id:string[])</h3 id='transform/e'>
        <h3>E(...id:number[])</h3>
        <h3>E(...elements:Edge[]) <em>=> object must have 'id' property.</em></h3>
        <h3>E(...comparator:{}[])</h3>
        <p>The edge iterator for the graph.  Utilize this to iterate through all the edges in the graph.  Use with care on large graphs. Can be used with indexed keys.<br/>
<mark>N.B. Uppercase E and lowercase E are inter-changeable. They take exactly the same parameters and have exactly the same output. i.e. E() == e()</mark>
</p>
<pre><code class="text">heliosjs&gt; g.E()
<em>output:</em>
[{"weight":0.5,"_id":7,"_type":"edge","_label":"knows","_out":1,"_in":2},
{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4},
{"weight":0.4,"_id":9,"_type":"edge","_label":"created","_out":1,"_in":3},
{"weight":1,"_id":10,"_type":"edge","_label":"created","_out":4,"_in":5},
{"weight":0.4,"_id":11,"_type":"edge","_label":"created","_out":4,"_in":3},
{"weight":0.2,"_id":12,"_type":"edge","_label":"created","_out":6,"_in":3}]

heliosjs&gt; g.e().property("weight")
<em>output:</em>
[0.5,1,0.4,1,0.4,0.2]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#filter/where">where</a> to understand how to use the 'comparator'</li>
</ul><p><a href="#">top</a>

</p>
<hr>
        <h3 id='transform/id'>id()</h3 id='transform/id'>
<p>Gets the unique identifier of the element.

</p>
<pre><code class="text">heliosjs&gt; g.V({name:{$eq:'marko'}},{name:{$eq:'josh'}}).id()
<em>output:</em>
[1,4]

heliosjs&gt; g.V(1).out().id()
<em>output:</em>
[2,4,3]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='transform/label'>label()</h3 id='transform/label'>
<p>Gets the label of an edge.

</p>
<pre><code class="text">heliosjs&gt; g.v(6).outE().label()
<em>output:</em>
["created"]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='transform/out'>out(...labels:string[])</h3 id='transform/out'>
<p>Gets the out adjacent vertices to the vertex.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).out()
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]

heliosjs&gt;  g.v(1).out('knows')
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='transform/oute'>outE(...labels:string[])</h3 id='transform/oute'>
<p>Gets the outgoing edges to the vertex.

</p>
<pre><code class="text">heliosjs&gt;  g.v(1).outE()
<em>output:</em>
[{"weight":0.5,"_id":7,"_type":"edge","_label":"knows","_out":1,"_in":2},
{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4},
{"weight":0.4,"_id":9,"_type":"edge","_label":"created","_out":1,"_in":3}]

heliosjs&gt;  g.v(1).outE('knows')
<em>output:</em>
[{"weight":0.5,"_id":7,"_type":"edge","_label":"knows","_out":1,"_in":2},
{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='transform/in'>in(...labels:string[])</h3 id='transform/in'>
<p>Gets the adjacent vertices to the vertex.

</p>
<pre><code class="text">heliosjs&gt; g.v(4).in()
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt;  g.v(4).in('knows')
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='transform/ine'>inE(...labels:string[])</h3 id='transform/ine'>
<p>Gets the incoming edges of the vertex.

</p>
<pre><code class="text">heliosjs&gt; g.v(4).inE()
<em>output:</em>
[{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4}]

heliosjs&gt; g.v(4).inE('knows')
<em>output:</em>
[{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4}]
</code></pre>
<p><a href="#">top</a>

</p>
<hr>


<h3 id='transform/both'>both(...labels:string[])</h3 id='transform/both'>
<p>Get both adjacent vertices of the vertex, the in and the out.

</p>
<pre><code class="text">heliosjs&gt; g.v(4).both()
<em>output:</em>
[{"name":"ripple","lang":"java","_id":5,"_type":"vertex"}
,{"name":"lop","lang":"java","_id":3,"_type":"vertex"}
,{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v(4).both(&#39;knows&#39;)
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v(4).both(&#39;knows&#39;, &#39;created&#39;)
<em>output:</em>
[{"name":"ripple","lang":"java","_id":5,"_type":"vertex"}
,{"name":"lop","lang":"java","_id":3,"_type":"vertex"}
,{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v(4).both([&#39;knows&#39;, &#39;created&#39;])
<em>output:</em>
[{"name":"ripple","lang":"java","_id":5,"_type":"vertex"}
,{"name":"lop","lang":"java","_id":3,"_type":"vertex"}
,{"name":"marko","age":29,"_id":1,"_type":"vertex"}]
</code></pre>
<p><a href="#">top</a>

</p>


<hr>
        <h3 id='transform/bothe'>bothE(...labels:string[])</h3 id='transform/bothe'>
<p>Get both incoming and outgoing edges of the vertex.

</p>
<pre><code class="text">heliosjs&gt; g.v(4).bothE()
<em>output:</em>
[{"weight":1,"_id":10,"_type":"edge","_label":"created","_out":4,"_in":5},
{"weight":0.4,"_id":11,"_type":"edge","_label":"created","_out":4,"_in":3},
{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4}]

heliosjs&gt;  g.v(4).bothE('knows','created')
<em>output:</em>
[{"weight":1,"_id":10,"_type":"edge","_label":"created","_out":4,"_in":5},
{"weight":0.4,"_id":11,"_type":"edge","_label":"created","_out":4,"_in":3},
{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='transform/outv'>outV()</h3 id='transform/outv'>
<p>Get both outgoing tail vertex of the edge.

</p>
<pre><code class="text">heliosjs&gt; g.e(12).outV()
<em>output:</em>
[{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='transform/inv'>inV()</h3 id='transform/inv'>
<p>Get both incoming head vertex of the edge.

</p>
<pre><code class="text">heliosjs&gt; g.e(12).inV()
<em>output:</em>
[{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='transform/bothv'>bothV()</h3 id='transform/bothv'>
<p>Get both incoming and outgoing vertices of the edge.

</p>
<pre><code class="text">heliosjs&gt; g.e(12).inV()
<em>output:</em>
[{"name":"peter","age":35,"_id":6,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='transform/key'>property(property:string)</h3 id='transform/key'>
<p>Get the property value of an element.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).property('age')
<em>output:</em>
[29]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
        <h3 id='transform/map'>map(...property:string[])</h3 id='transform/map'>
<p>Gets the property map of the graph element.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).map()
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v(1).map('name', 'age')
<em>output:</em>
[{"name":"marko","age":29}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
        <h3 id='transform/path'>path(...property:string[])</h3 id='transform/path'>
        <h3>path(...closure:string[])</h3>
<p>Gets the path through the pipeline up to this point, where closures are post-processing for each object in the path.  If the path step is provided closures then, in a round robin fashion, the closures are evaluated over each object of the path and that post-processed path is returned.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).out().path()
<em>output:</em>
[[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"}],
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}],
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]]

heliosjs&gt; g.v(1).out().path('name','age')
<em>output:</em>
[[{"age":29,"name":"marko"},{"age":27,"name":"vadas"}],
[{"age":29,"name":"marko"},{"age":32,"name":"josh"}],
[{"age":29,"name":"marko"},{"name":"lop"}]]

heliosjs&gt; g.v(1).out().path('it.id')
<em>output:</em>
[[1,2],[1,4],[1,3]]

g.v(1).out().path('it.id','id.name')
<em>output:</em>
[[1,"vadas"],[1,"josh"],[1,"lop"]]

heliosjs&gt; g.v(1).outE().inV().property('name').path()
<em>output:</em>
[[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"weight":0.5,"_id":7,"_type":"edge","_label":"knows","_out":1,"_in":2},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},"vadas"],
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"weight":1,"_id":8,"_type":"edge","_label":"knows","_out":1,"_in":4},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},"josh"],
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"weight":0.4,"_id":9,"_type":"edge","_label":"created","_out":1,"_in":3},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},"lop"]]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

        <h3 id='transform/select'>select(...closure:string[])</h3 id='transform/select'>
        <h3>select(list:string[])</h3>
        <h3>select(list:string[], ...closure:string[])</h3>
<p>Select the named steps to emit after select with post-processing closures in a round robin.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).as(&#39;x&#39;).out(&#39;knows&#39;).as(&#39;y&#39;).select()
<em>output:</em>
[[{"x":{"name":"marko","age":29,"_id":1,"_type":"vertex"}},
{"y":{"name":"vadas","age":27,"_id":2,"_type":"vertex"}}],
[{"x":{"name":"marko","age":29,"_id":1,"_type":"vertex"}},
{"y":{"name":"josh","age":32,"_id":4,"_type":"vertex"}}]]

heliosjs&gt; g.v(1).as(&#39;x&#39;).out(&#39;knows&#39;).as(&#39;y&#39;).select([&quot;y&quot;])
<em>output:</em>
[[{"y":{"name":"vadas","age":27,"_id":2,"_type":"vertex"}}],
[{"y":{"name":"josh","age":32,"_id":4,"_type":"vertex"}}]]

heliosjs&gt; g.v(1).as(&#39;x&#39;).out(&#39;knows&#39;).as(&#39;y&#39;).select([&quot;y&quot;],'it.name')
<em>output:</em>
[[{"y":"vadas"}],[{"y":"josh"}]]

heliosjs&gt; g.v(1).as(&#39;x&#39;).out(&#39;knows&#39;).as(&#39;y&#39;).select([&quot;y&quot;],'it._id','it.name')
<em>output:</em>
[[{"y":2}],[{"y":"josh"}]]

heliosjs&gt;  g.v(1).as(&#39;x&#39;).out(&#39;knows&#39;).as(&#39;y&#39;).select('it._id','it.name')
<em>output:</em>
[[{"x":1},{"y":"vadas"}],[{"x":1},{"y":"josh"}]]

heliosjs&gt;  g.v(1).as(&#39;x&#39;).out(&#39;knows&#39;).as(&#39;y&#39;).select(['x','y'],'it._id','it.name','it.age')
<em>output:</em>
[[{"x":1},{"y":"vadas"}],[{"x":29},{"y":4}]]</code></pre>
<p><a href="#">top</a>

</p>
<hr>



<h3 id='transform/stringify'>stringify()</h3 id='transform/stringify'>
<p>Returns a JavaScript Object Notation (JSON) string.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).stringify().then(function(r){return console.log(r)});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='transform/hash'>hash()</h3 id='transform/hash'>
<p>Returns a hash Object with the ids as the key.

</p>
<pre><code class="text">heliosjs&gt; g.v(1,4).hash()
<em>output:</em>
{"1":{"name":"marko","age":29,"_id":1,"_type":"vertex"},
"4":{"name":"josh","age":32,"_id":4,"_type":"vertex"}}</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='transform/order'>order()</h3 id='transform/order'>
<h3 id='transform/order'>order(desc:string)</h3 id='transform/order'>
<h3 id='transform/order'>order(...properties:any[])</h3 id='transform/order'>
<p>Order the items in the stream according to the criteria if provided. If no criteria is provided, then a default sort order is used. The default sort order is ascending, case-sensitive with values that are numeric in nature sorted as numbers (i.e. '$20.05' is treated as 20.05). If the incoming values are elements then the elements will be sorted on id. The desc argument is a minus sign passed as a string to indicate descending order.</p>

<p>The properties parameter can be passed in as a list or an array and accepts either a property name or a sort object (eg. {'key':'default'}). To set descending order, prefix the property name with '-' (e.g. '-name'). Sort objects provide more information to the order step, as mentioned above, use the property name as the key and one of </p>
  <ul>
    <li>'default' - default sort order</li>
    <li>'case-i' - case insensitive sort</li>
    <li>'case-s' - case sensitive sort</li>
  </ul>
  <p>If a specified property does not exist in the object the default action is to place the object at the bottom (top if order descending)</p>
<pre><code class="text">heliosjs&gt; g.v(1).out().order()
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.v(1).out('-').order()
<em>output:</em>
[{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"}]

heliosjs&gt; g.v(1).out().property('name').order()
<em>output:</em>
["josh","lop","vadas"]

heliosjs&gt; g.v(1).out('-').property('name').order()
<em>output:</em>
["vadas","lop","josh"]

</code></pre>

<p>Test data for the follow order() examples can be found <a href="https://github.com/entrendipity/helios.js/blob/master/tests/data/graph-example-1o.json">here</a>.</p>

<pre><code class="text">heliosjs&gt; g.v().map('name','age')
<em>output:</em>
[{"age":29,"name":"marko"},
{"age":27,"name":"vadas"},
{"name":"lop"},
{"age":29,"name":"Marko"},
{"name":"ripple"},
{"age":35,"name":"peter"}]

heliosjs&gt; g.v().map('name','age').order('name')
<em>output:</em>
[{"age":29,"name":"Marko"},
{"name":"lop"},
{"age":29,"name":"marko"},
{"age":35,"name":"peter"},
{"name":"ripple"},
{"age":27,"name":"vadas"}]

heliosjs&gt; g.v().map('name','age').order('-name')
<em>output:</em>
[{"age":27,"name":"vadas"},
{"name":"ripple"},
{"age":35,"name":"peter"},
{"age":29,"name":"marko"},
{"name":"lop"},
{"age":29,"name":"Marko"}]

heliosjs&gt; g.v().map('name','age').order({'-name':'case-i'})
<em>output:</em>
[{"age":27,"name":"vadas"},
{"name":"ripple"},
{"age":35,"name":"peter"},
{"age":29,"name":"marko"},
{"age":29,"name":"Marko"},
{"name":"lop"}]

heliosjs&gt; g.v().map('name','age').order('age','name')
<em>output:</em>
[{"age":27,"name":"vadas"},
{"age":29,"name":"Marko"},
{"age":29,"name":"marko"},
{"age":35,"name":"peter"},
{"name":"lop"},
{"name":"ripple"}]

heliosjs&gt; g.v().map('name','age').order('age',{'name':'case-i'})
<em>output:</em>
[{"age":27,"name":"vadas"},
{"age":29,"name":"marko"},
{"age":29,"name":"Marko"},
{"age":35,"name":"peter"},
{"name":"lop"},
{"name":"ripple"}]</code></pre>

<p><a href="#">top</a>

</p>
<hr>

<h2 id='filter'>Filter</h2 id='filter'>
<p>Filter steps decide whether to allow an object to pass to the next step or not.

</p>

        <h3 id='filter/filter'>filter(closure:string)</h3 id='filter/filter'>
<p>Decide whether to allow an object to pass.  Return true from the closure to allow an object to pass.

</p>
<pre><code class="text">heliosjs&gt; g.V().filter('it.age &gt; 29').property('name')
<em>output:</em>
["josh","peter"]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

        <h3 id='filter/i'>index(indices:number[])</h3 id='filter/i'>
<p>A index filter that emits the particular indexed objects.

</p>
<pre><code class="text">heliosjs&gt; g.V().index(0).property('name')
<em>output:</em>
["marko"]

heliosjs&gt; g.V().index(0, 2).property('name')
<em>output:</em>
["marko", "lop"]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='filter/i-j'>range(start:number, end?:number)</h3 id='filter/i-j'>
<p>A range filter that emits the objects within a range.

</p>
<pre><code class="text">heliosjs&gt; g.V().range(0,2).property('name')
<em>output:</em>
["marko","vadas","lop"]

heliosjs&gt; g.V().range(2).property('name')
<em>output:</em>
["lop","josh","ripple","peter"]</code></pre>
<p><a href="#">top</a>

</p>
<hr>


        <h3 id='filter/back'>back(backSteps:number)</h3 id='filter/back'>
        <h3>back(namedStep:string)</h3>
<p>Go back to the results from n-steps ago, where the preceding step is step 0, or go back to the results of a named step.
</p>
<pre><code class="text">heliosjs&gt; g.V().out('knows').where({'age':{$gt:30}}).back(2).property('age')
<em>output:</em>
[29]

heliosjs&gt; g.V().as('x').outE('knows').inV().where({'age':{$gt:30}}).back('x')
<em>output:</em>
[29]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='filter/dedup'>dedup()</h3 id='filter/dedup'>
<p>Emit only incoming objects that have not been seen before.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).out().in().id()
<em>output:</em>
[1,1,1,4,6]

heliosjs&gt; g.v(1).out().in().dedup().id()
<em>output:</em>
[1,4,6]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
        <h3 id='filter/except'>except(dataSet:Element[])</h3 id='filter/except'>
        <h3>except(id:number[])</h3>
        <h3>except(id:string[])</h3>
<p>Emit everything to pass except what is in the supplied collection.

</p>
<pre><code class="text">heliosjs&gt; var x = [[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]]

heliosjs&gt; g.V().except(x)
<em>output:</em>
[{"name":"peter","age":35,"_id":6,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; x = [1,2,3];
heliosjs&gt; g.V().except(x)
<em>output:</em>
[{"name":"peter","age":35,"_id":6,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#filter/retain">retain</a></li>
</ul>
<p><a href="#">top</a>

</p>
<hr>

        <h3 id='filter/retain'>retain(dataSet:Element[])</h3 id='filter/retain'>
        <h3>retain(id:number[])</h3>
        <h3>retain(id:string[])</h3>
<p>Allow everything to pass except what is not in the supplied collection.

</p>
<pre><code class="text">heliosjs&gt; var x = [[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]]

heliosjs&gt; g.V().retain(x)
<em>output:</em>
[{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; x = [1,2,3];
heliosjs&gt; g.V().retain(x)
<em>output:</em>
[{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#filter/except">except</a></li>
</ul>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='filter/where'>where(comparator:{}[])</h3 id='filter/where'>
<p>Emit only incoming objects that meet the specified criteria of the comparator.

</p>
        <p>If you are familiar with Gremlin, <code>where</code> replaces the following Gremlin steps:

        </p>
        <ul>
          <li>has</li>
          <li>hasNot</li>
          <li>and</li>
          <li>or</li>
          <li>interval</li>
        </ul>
        <p>and could even be used instead of the <code>filter</code> step.</p>
        <h4>Comparator Selectors</h4>
        <p>Comparators are Object literals. In order to use comparators you create an object literal and use the key value that you would like to match as the key of the object. The value of this property is the comparator object. For example, to find an element where 'name' is equal to 'marko', you would pass in the following:</p>
        <pre><code class="text">{name:{$eq:'marko'}}</code></pre>

        <p>If a specified property does not exist in the element, the element is ignored and not included in the results.</p>
        <p>All comparator selectors are able to access object properties, as well as embedded object properties. Use the 'dot' notation to access embedded properties, ensuring that the key is a string.</p>
        <h5>Comparison</h5>
        <p>Comparison selectors work with values and arrays.</p>
        <h6>$eq</h6>
        <p>Takes a single argument and matches values equal to the value specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$eq:'marko'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>

        <h6>$neq</h6>
        <p>Takes a single argument and matches values not equal to the value specified.</p>
<pre><code class="text">heliosjs&gt; g.v().where({name:{$neq:'marko'}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; g.v().where({name:{$neq:29}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>

        <h6>$lt</h6>
        <p>Takes a single argument and matches values less than to the value specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$lt:29}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"}]</code></pre>
        <h6>$lte</h6>
        <p>Takes a single argument and matches values less than or equal to to the value specified.</p>
                <pre><code class="text">heliosjs&gt; g.v().where({name:{$lte:29}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"}]</code></pre>
        <h6>$gt</h6>
        <p>Takes a single argument and matches values greater than to the value specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$gt:29}})
<em>output:</em>
[{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>
        <h6>$gte</h6>
        <p>Takes a single argument and matches values greater than equal to the value specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$gte:29}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>
        <h6>$btw</h6>
        <p>Takes an array argument with a length of 2 and matches values between and inclusive of the values specified. <em>i.e. [from, to]</em> </p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$btw:[29,32]}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]</code></pre>
        <h6>$in</h6>
        <p>Takes either a single argument or an array of values and matches values equal to the values specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$in:[29,35]}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>
        <h6>$ex</h6>
        <p>Takes either a single argument or an array of values and matches values not equal to the values specified.</p>
<pre><code class="text">heliosjs&gt; g.v().where({name:{$ex:[29,35]}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"}]</code></pre>
        <h6>$like</h6>
        <p>Takes either a single regex argument or an array of regex values and matches values based on the values specified.</p>
<pre><code class="text">heliosjs&gt; g.v().where({name:{$like:'ma'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v().where({name:{$like:['ete','das$']}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]
</code></pre>
        <h6>$startsWith</h6>
        <p>Takes a single argument and matches values starting with the values specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$startsWith:'ma'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>
        <h6>$endsWith</h6>
        <p>Takes a single argument and matches values ending with the values specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({name:{$endsWith:'das'}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex"}]</code></pre>
        <h5>Array</h5>
        <p>Array selectors work with arrays.</p>
        <p>Test data for these examples can be found <a href="https://github.com/entrendipity/helios.js/blob/master/tests/data/graph-example-1a.json">here</a>.</p>
          <h6>$all</h6>
          <p>Takes an array of values and matches values if all values specified are contained in an array.</p>
<pre><code class="text">heliosjs&gt; g.v().where({dow:{$all:['mon','wed']}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex","dow":["mon","tue","wed"],"dob":"1984-05-05","active":true,"budget":"$120,000","device":{"qty":3,"mobile":{"phone":["iphone","samsung"],"tablet":["galaxy"]}}},
{"name":"vadas","age":27,"_id":2,"_type":"vertex","dow":["mon","wed"],"dob":"1986-03-12","active":false,"budget":"$100,000","device":{"qty":1,"mobile":{"phone":["iphone"]}}}]</code></pre>
          <h6>$match</h6>
          <p>Takes an array of values and matches values if the target array has exactly the same values.</p>
<pre><code class="text">heliosjs&gt; g.v().where({dow:{$match:['mon','wed']}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex", "dow":["mon", "wed"], "dob":"1986-03-12", "active":false, "budget":"$100,000", "device":{"qty":1,"mobile":{"phone":["iphone"]}}}]</code></pre>
          <h6>$len</h6>
          <p>Takes an integer or string comparison value and matches arrays that have a length the matches the value specified.</p>
          <pre><code class="text">heliosjs&gt; g.v().where({dow:{$len:2}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex","dow":["mon","wed"],"dob":"1986-03-12","active":false,"budget":"$100,000","device":{"qty":1,"mobile":{"phone":["iphone"]}}},
{"name":"peter","age":35,"_id":6,"_type":"vertex","dow":["mon","fri"],"dob":"1978-12-13","active":true,"budget":"$70,000","device":{"qty":2,"mobile":{"phone":["iphone"],"tablet":["ipad"]}}}]

heliosjs&gt; g.v().where({dow:{$len:'==2'}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex","dow":["mon","wed"],"dob":"1986-03-12","active":false,"budget":"$100,000","device":{"qty":1,"mobile":{"phone":["iphone"]}}},
{"name":"peter","age":35,"_id":6,"_type":"vertex","dow":["mon","fri"],"dob":"1978-12-13","active":true,"budget":"$70,000","device":{"qty":2,"mobile":{"phone":["iphone"],"tablet":["ipad"]}}}]

heliosjs&gt; g.v().where({dow:{$len:'=== 2'}})
<em>output:</em>
[{"name":"vadas","age":27,"_id":2,"_type":"vertex","dow":["mon","wed"],"dob":"1986-03-12","active":false,"budget":"$100,000","device":{"qty":1,"mobile":{"phone":["iphone"]}}},
{"name":"peter","age":35,"_id":6,"_type":"vertex","dow":["mon","fri"],"dob":"1978-12-13","active":true,"budget":"$70,000","device":{"qty":2,"mobile":{"phone":["iphone"],"tablet":["ipad"]}}}]

heliosjs&gt; g.v().where({dow:{$len:'>2'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex","dow":["mon","tue","wed"],"dob":"1984-05-05","active":true,"budget":"$120,000","device":{"qty":3,"mobile":{"phone":["iphone","samsung"],"tablet":["galaxy"]}}}]

heliosjs&gt; g.v().where({dow:{$len:'>= 2'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex","dow":["mon","tue","wed"],"dob":"1984-05-05","active":true,"budget":"$120,000","device":{"qty":3,"mobile":{"phone":["iphone","samsung"],"tablet":["galaxy"]}}},
{"name":"vadas","age":27,"_id":2,"_type":"vertex","dow":["mon","wed"],"dob":"1986-03-12","active":false,"budget":"$100,000","device":{"qty":1,"mobile":{"phone":["iphone"]}}},
{"name":"peter","age":35,"_id":6,"_type":"vertex","dow":["mon","fri"],"dob":"1978-12-13","active":true,"budget":"$70,000","device":{"qty":2,"mobile":{"phone":["iphone"],"tablet":["ipad"]}}}]</code></pre>
        <h5>Logical</h5>
        The Logical selectors operate implicitly.
        <h6>AND</h6>
        Everything that is contained in a Comparator object is compared with AND logic. For example: If I wanted all elements with the name == marko AND age == 29, I would write the following:
        <pre><code>{ 
 name:{$eq:'marko'}, 
 age:{$eq:29}
}</code></pre>

<pre><code class="text">heliosjs&gt; g.v().where({name:{$eq:'marko'}, age:{$eq:29}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>

<h6>OR</h6>
        Subsequent Comparator objects are compared with OR logic. For example: If I wanted all elements with the name == marko OR name == vadas, I would write the following:
<pre><code> {name:{$eq:'marko'}},
 {name:{$eq:'vadas'}}
</code></pre>

<pre><code class="text">heliosjs&gt; g.v().where({name:{$eq:'marko'}},{name:{$eq:'vadas'}})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"}]

heliosjs&gt; g.v().where([{name:{$eq:'marko'}},{age:{$gt:'30'}}])
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>

<h6>NOT</h6>
<p>NOT logic is handled by the inverse operators already explained above. For intance, the inverse operator for $eq is $neq.</p>
<h6>NOR - $nor</h6>
<p>NOR needs to be explicitly declared, so gets it's own operator ($nor). NOR returns elements that fail to meet all clauses. To use $nor, you create an object literal that holds an array of regular comparator expressions.</p>

<pre><code> {$nor:[{name:{$eq:'marko'}},{name:{$eq:'vadas'}}] }</code></pre>

<pre><code class="text">heliosjs&gt; g.v().where({$nor:[{name:{$eq:'marko'}},{name:{$eq:'vadas'}}]})
<em>output:</em>
[{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>

          <h5>Element</h5>
          <p>Element selectors work with Element properties. However, they do not work in conjunction with the Comparators specified above.</p>
          <h6>$has</h6>
          <p>Takes an array of key values and matches objects which contain any of the key values specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({$has:['lang']})
<em>output:</em>
[{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"}]

heliosjs&gt; g.v().where({$has:['age', 'name']})
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>

<h6>$hasNot</h6>
          <p>Takes an array of key values and matches objects which do not contain any of the key values specified.</p>
        <pre><code class="text">heliosjs&gt; g.v().where({$hasNot:['age']})
<em>output:</em>
[{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"}]</code></pre>

<p><a href="#">top</a>

</p>
<hr>
<h2 id='side-effect'>Side Effect</h2 id='side-effect'>
<p>Side Effect steps pass the object, but yield some kind of side effect while doing so.

</p>
<h3 id='side-effect/count'>count()</h3 id='side-effect/count'>
<p>Counts the number of elements.

</p>
<pre><code class="text">heliosjs&gt; g.V().out(&#39;knows&#39;).count()
<em>output:</em>
2</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='side-effect/as'>as(name:string)</h3 id='side-effect/as'>
<p>Emits input, but names the previous step.

</p>
<pre><code class="text">heliosjs&gt; g.v().out('knows').where({age:{$gt:30}}).back(2).property('age')
<em>output:</em>
[29]

heliosjs&gt; g.v().as('x').out('knows').where({age:{$gt:30}}).back('x').property('age')
<em>output:</em>
[29]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h3 id='side-effect/optional'>optional(backSteps:number)</h3 id='side-effect/optional'>
        <h3>optional(namedStep:string)</h3>
<p>Behaves similar to <code>back</code> except that it does not filter. It will go down a particular path and back up to where it left off. As such, its useful for yielding a sideeffect down a particular branch.

</p>
<pre><code class="text">heliosjs&gt; heliosjs&gt; g.v().out('knows').where({age:{$gt:30}}).back(2)
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v().out('knows').where({age:{$gt:30}}).optional(2)
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; g.v().as('x').out('knows').where({age:{$gt:30}}).back('x')
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; g.v().as('x').out('knows').where({age:{$gt:30}}).optional('x')
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"vadas","age":27,"_id":2,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#filter/back">back</a></li>
</ul>
<p><a href="#">top</a>

</p>
<hr>


<h3 id='branch/ifthenelse'>ifThenElse(ifClosure:string, thenClosure:string, elseClosure:string)</h3 id='branch/ifthenelse'>
<p>Allows for if-then-else conditional logic.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).out().ifThenElse("it.name=='josh'","it.age","it.name")
<em>output:</em>
["vadas",32,"lop"]</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='branch/loop'>loop(backSteps:number, iterations:number, closure?:string)</h3 id='branch/loop'>
<h3>loop(namedStep:string, iterations:number, closure?:string)</h3>

<p>Loop over a particular set of steps in the pipeline.  The first argument is either the number of steps back in the pipeline to go, where the preceding step is back 1 step, or a named step.  The second argument is the number of iterations to loop. The final argument is known as the &quot;emit&quot; closure. This boolean-based closure will determine wether the current object in the loop structure is emitted or not. As such, it is possible to emit intermediate objects, not simply those at the end of the loop.

</p>
<pre><code class="text">heliosjs&gt; g.v(1).out().out()
<em>output:</em>
[{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]

heliosjs&gt; g.v(1).out().loop(1,2)
<em>output:</em>
[{"name":"ripple","lang":"java","_id":5,"_type":"vertex"},
{"name":"lop","lang":"java","_id":3,"_type":"vertex"}]

heliosjs&gt; g.v(1).out().loop(1,2,"it.name=='josh'")
<em>output:</em>
[{"name":"josh","age":32,"_id":4,"_type":"vertex"}]

heliosjs&gt; g.v(1).out().in().out().in().id()
<em>output:</em>
[1,1,1,4,6,1,1,1,4,6,1,1,1,4,6,4,1,4,6,1,4,6]

heliosjs&gt; g.v(1).out().as('x').in().loop('x',2).id()
<em>output:</em>
[1,1,1,4,6,1,1,1,4,6,1,1,1,4,6,4,1,4,6,1,4,6]</code></pre>
<p><a href="#">top</a>

</p>
<hr>

<h2 id='db-methods'>Database Methods</h2 id='db-methods'>
<p>Methods that operate on the database and do not directly travese the graph.</p>

<h3 id='db-methods/pin'>pin()</h3 id='db-methods/pin'>
<p>Pins the traversal to a point in the graph.</p>

<p>If you assign a traversal command to a variable, the variable holds a reference to that point in the graph. You can continue traversing the graph using the stored position, however the variable will store the last place reached during the last traversal. Pin ensures that the variable keeps the reference to the initial point in the graph.</p>

<pre><code class="text">heliosjs&gt; g.v(1).out().in().in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; var dynamic = g.v(1).out();
heliosjs&gt; dynamic.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; dynamic.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]

heliosjs&gt; var pinned = g.v(1).out().pin();
heliosjs&gt; pinned.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; pinned.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#db-methods/unpin">unpin</a></li>
</ul>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='db-methods/unpin'>unpin()</h3 id='db-methods/unpin'>

<p>Restores default traversal behaviour on a previously <a href="#db-methods/pin">pin</a>ned variable.

</p>
<pre><code class="text">heliosjs&gt; var pinned = g.v(1).out().pin();
heliosjs&gt; pinned.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; pinned.unpin();

heliosjs&gt; pinned.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"marko","age":29,"_id":1,"_type":"vertex"},
{"name":"josh","age":32,"_id":4,"_type":"vertex"},
{"name":"peter","age":35,"_id":6,"_type":"vertex"}]

heliosjs&gt; pinned.in().then(function(r){return console.log(JSON.stringify(r))});
<em>output:</em>
[{"name":"marko","age":29,"_id":1,"_type":"vertex"}]</code></pre>
<h4>See Also</h4>
<ul>
<li><a href="#db-methods/pin">pin</a></li>
</ul>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='db-methods/loadgraphson'>loadGraphSON(jsonData:string)</h3 id='db-methods/loadgraphson'>

<p>Loads "NORMAL" mode formatted <a href="https://github.com/tinkerpop/blueprints/wiki/GraphSON-Reader-and-Writer-Library">GraphSON</a> data into the database. Calling this function with new data appends the data and updates existing elements based on id.</p>
<pre><code class="text">heliosjs&gt; g.loadGraphSON('http://path/to/graphson.json');
</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='db-methods/loadgraphml'>loadGraphML(xmlData:string)</h3 id='db-methods/loadgraphml'>

<p>Loads GraphML formatted data into the database. Calling this function with new data appends the data and updates existing elements based on id.</p>
<pre><code class="text">heliosjs&gt; g.loadGraphML('http://path/to/graphml.xml');
</code></pre>
<p><a href="#">top</a>

</p>
<hr>
<h3 id='db-methods/shutdown'>shutdown()</h3 id='db-methods/shutdown'>

<p>Closes the database.</p>
<pre><code class="text">heliosjs&gt; g.shutdown();
</code></pre>
<p><a href="#">top</a>

</p>
<hr>




        <h2>License</h2>

        <p>(MIT License)</p>

        <p>Copyright (c) 2012-2015 Entrendipity Pty. Ltd.</p>

        <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

        <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

        <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
      </section>
      <footer>

          <br/><a href="https://twitter.com/entrendipity" class="twitter-follow-button" data-show-count="true" data-size="medium">Follow @entrendipity</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <br/><a href="https://groups.google.com/forum/#!forum/heliosjs">Mailing List</a>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--[endif]>

  </body>
</html>
